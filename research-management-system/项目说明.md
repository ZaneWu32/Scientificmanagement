# 科研成果管理系统 - 前端项目说明

## 项目概述

本项目是一个基于 Vue3 + Element Plus 的科研成果管理系统前端应用，实现了完整的科研成果"收、管、查、用"功能。

## 核心特性

### 1. 角色驱动的功能设计

系统支持四种用户角色，每种角色有不同的功能权限：

#### 普通用户（Researcher）
- 个人成果概览（统计数据 + 可视化图表）
- 创建成果物（多步骤向导）
- 管理个人成果
- 检索全局成果

#### 专家（Expert）
- 继承普通用户所有功能
- 成果审核（待审核/已审核列表）
- 审核操作（通过/驳回 + 意见）

#### 管理员（Admin/Manager）
- 科研看台（全局统计与态势分析）
- 成果管理（全局成果列表）
- 审核分配（分配专家审核）
- 成果类型配置（仅 Admin）

### 2. 多步骤成果创建向导

创建成果采用 5 步向导式设计，降低用户认知负担：

**步骤 1: 选择类型**
- 下拉选择成果类型（论文、专利、软著等）
- 实时展示类型说明

**步骤 2: 填写基础信息**
- 标准字段：标题、作者、年份、摘要、关键词
- 动态字段：根据成果类型动态渲染特有字段
- 表单验证与必填提示

**步骤 3: 智能补全（可选）**
- 支持 DOI、arXiv ID、万方标题
- 调用外部 API 自动填充元数据
- 差异对比与选择性覆盖

**步骤 4: 上传附件**
- 拖拽上传 + 点击上传
- 多文件支持
- 可见范围设置（私有/机构内/公开）

**步骤 5: 确认提交**
- 信息预览
- 提交审核或保存草稿

### 3. 动态表单系统

系统支持通过配置动态生成表单，无需修改代码即可支持新的成果类型：

- 字段类型：文本、数值、日期、下拉、多选、文件等
- 字段属性：必填、默认值、校验规则、帮助说明
- 字段排序：拖拽调整显示顺序

### 4. 权限控制体系

**路由级权限**
- 路由守卫检查登录状态
- 基于角色的路由访问控制
- 无权限自动跳转 403 页面

**组件级权限**
- 菜单动态渲染（基于角色）
- 按钮级权限控制
- 数据级权限（仅看自己的数据）

### 5. 用户体验优化

**加载态**
- 骨架屏（避免白屏）
- Loading 状态
- 进度提示

**反馈机制**
- 成功/失败 Toast 提示
- 表单验证错误提示
- 操作确认对话框

**空态处理**
- 友好的空态插画
- 引导性操作按钮
- 帮助说明文案

**响应式设计**
- 适配不同屏幕尺寸
- 移动端友好（部分页面）

## 技术亮点

### 1. 纯 JavaScript + 常量约束

- 统一切换到 JavaScript 代码，保留 `<script setup>` + Composition API 的开发体验。
- 角色、成果状态、可见性等核心枚举集中在 `src/types/`，避免魔法字符串带来的隐式错误。
- `jsconfig` 配置路径别名，方便 IDE 补全与跳转。

### 2. 统一的 HTTP 封装

通过 Axios 拦截器实现：
- 自动添加认证 Token
- 统一错误处理
- 401 自动跳转登录
- 请求/响应日志

### 3. 状态管理

使用 Pinia 进行状态管理：
- 用户信息与登录状态
- Token 持久化
- 权限检查方法

### 4. 路由设计

- 嵌套路由（主布局 + 子页面）
- 路由懒加载（按需加载）
- 路由元信息（标题、权限）
- 面包屑导航

### 5. 可视化图表

使用 ECharts 实现数据可视化：
- 饼图（成果类型分布）
- 折线图/柱状图（产出趋势）
- 响应式图表
- 主题统一

## 页面结构

### 登录页 (`/login`)
- 左右分栏布局
- 表单验证
- 记住登录状态
- 错误提示

### 主布局 (`MainLayout`)
- 顶部导航（系统标题、机构、消息、用户）
- 左侧菜单（角色驱动）
- 主内容区（面包屑 + 页面内容）
- 消息抽屉

### 个人概览 (`/dashboard`)
- 统计卡片（总数、论文、专利、月新增）
- 图表区（类型分布、趋势）
- 最近成果列表

### 创建成果 (`/results/create`)
- 5 步向导
- 动态表单
- 智能补全
- 附件上传

### 个人成果 (`/results/my`)
- 筛选表单
- 成果列表
- 详情抽屉
- 编辑/删除操作

### 成果检索 (`/results/search`)
- 高级检索表单
- 分页列表
- 详情查看

### 成果详情 (`/results/:id`)
- 基本信息展示
- 附件列表
- 下载功能

### 专家审核 (`/expert/reviews`)
- 待审核/已审核标签页
- 审核对话框
- 意见填写

### 科研看台 (`/admin/dashboard`)
- 全局统计卡片
- 可视化图表
- 最新成果

### 成果管理 (`/admin/results`)
- 全局成果列表
- 筛选查询
- 管理操作

### 审核分配 (`/admin/review-assign`)
- 待分配列表
- 专家选择
- 任务量显示

### 成果类型配置 (`/admin/result-types`)
- 类型列表
- 新增/编辑类型
- 字段配置

## 开发规范

### 1. 组件命名
- 页面组件：大驼峰（PascalCase）
- 组件文件：大驼峰.vue
- 组件使用：kebab-case 或 PascalCase

### 2. API 接口
- 统一使用 `src/api/` 目录
- 按模块划分文件
- 导出函数式接口

### 3. 类型定义
- 统一在 `src/types/` 目录
- 使用 interface 定义实体
- 使用 enum 定义枚举

### 4. 样式规范
- 使用 scoped 样式
- 全局样式在 `main.css`
- 变量使用 CSS 变量

### 5. 代码风格
- 使用 ESLint
- 使用 Prettier
- 提交前检查

## 部署说明

### 开发环境
```bash
npm install
npm run dev
```

### 生产构建
```bash
npm run build
```

构建产物在 `dist/` 目录

### 环境配置
- 开发环境：`.env.development`
- 生产环境：`.env.production`

配置 API 基础路径：
```
VITE_API_BASE_URL=http://your-api-server/api
```

### Nginx 配置示例
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    root /path/to/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://backend-server:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## 后续优化方向

### 功能增强
- [ ] 完善消息中心（WebSocket 实时推送）
- [ ] 成果版本管理
- [ ] 成果关联分析
- [ ] 报表导出（Excel/PDF）
- [ ] 批量操作
- [ ] 高级筛选器

### 性能优化
- [ ] 虚拟滚动（大列表）
- [ ] 图片懒加载
- [ ] 路由预加载
- [ ] 组件缓存（keep-alive）
- [ ] CDN 加速

### 用户体验
- [ ] 移动端完整适配
- [ ] 暗黑模式
- [ ] 国际化（i18n）
- [ ] 快捷键支持
- [ ] 操作历史记录

### 工程化
- [ ] 单元测试（Vitest）
- [ ] E2E 测试（Playwright）
- [ ] CI/CD 流程
- [ ] 代码覆盖率
- [ ] 性能监控

## 常见问题

### Q: 如何添加新的成果类型？
A: 在管理员的"成果类型配置"页面添加，配置字段后即可在创建页面使用。

### Q: 如何修改主题色？
A: 修改 `src/assets/main.css` 中的颜色变量，或使用 Element Plus 主题定制。

### Q: API 接口如何对接？
A: 参考 `src/api/` 目录下的接口定义，后端需实现对应的 RESTful API。

### Q: 如何添加新的用户角色？
A: 在 `src/types/index.ts` 中添加角色枚举，在路由和组件中添加权限判断。

## 联系方式

如有问题或建议，请联系开发团队。

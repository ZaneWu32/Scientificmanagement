# 专家审核页面功能验证清单

## ✅ 验证步骤

### 1. 启动项目
```bash
cd research-management-system
npm run dev
```

### 2. 登录专家账号
- 访问: http://localhost:5173/login
- 用户名: `expert`
- 密码: `expert123`
- 或点击页面上的"专家"快捷按钮

### 3. 进入审核页面
- 登录成功后自动跳转到 `/expert/reviews`
- 或通过左侧菜单点击"成果审核"

---

## 📋 功能验证清单

### 待审核列表
- [ ] 表格显示6列: 成果名称、类型、所属项目、提交人、提交时间、操作
- [ ] 所属项目列正确显示项目名称和编号 `项目名称 (编号)`
- [ ] 无项目的成果显示灰色文本 `无所属/其他`
- [ ] 列宽合理，内容不溢出

### 已审核列表  
- [ ] 切换到"已审核"Tab正常工作
- [ ] 表格显示6列: 成果名称、类型、所属项目、审核结果、审核时间
- [ ] 所属项目列显示正确
- [ ] 审核结果标签颜色正确 (通过=绿色, 驳回=红色)

### 审核对话框 - 信息展示
点击"审核"按钮后:
- [ ] 对话框标题显示"审核成果"
- [ ] 右上角显示"查看完整详情"按钮
- [ ] **基础信息区域**显示:
  - [ ] 标题 (跨2列)
  - [ ] 类型
  - [ ] 年份
  - [ ] 所属项目 (跨2列，有项目显示名称和编号，无项目显示灰色提示)
  - [ ] 提交人
  - [ ] 提交时间
  - [ ] 作者列表 (逗号分隔)
  - [ ] 关键词 (标签形式)
  - [ ] 摘要 (多行文本)

### 审核对话框 - 附件列表
- [ ] 有附件时显示"附件列表"分隔线
- [ ] 每个附件显示: 图标 + 文件名 + 大小 + 下载按钮
- [ ] 文件大小格式化正确:
  - [ ] 小于1KB显示为 "xxx B"
  - [ ] 1KB-1MB显示为 "xxx.xx KB"
  - [ ] 大于1MB显示为 "xxx.xx MB"
- [ ] hover附件项时背景色变化
- [ ] 点击下载按钮能正确触发下载

### 审核对话框 - 交互功能
- [ ] 点击"查看完整详情"按钮在新标签页打开详情页
- [ ] 详情页URL正确: `/results/{成果ID}`
- [ ] 审核意见输入框正常工作
- [ ] 审核结果单选按钮可切换 (通过/驳回)
- [ ] 点击"取消"关闭对话框
- [ ] 点击"提交"按钮:
  - [ ] 未填写意见时提示"请输入审核意见"
  - [ ] 填写意见后提交成功
  - [ ] 提交后对话框关闭
  - [ ] 列表自动刷新

### 样式验证
- [ ] 对话框宽度为900px，信息展示充分
- [ ] 灰色辅助文本 (.text-muted) 样式正确
- [ ] 摘要内容支持换行，不会溢出
- [ ] 附件卡片样式美观，圆角边框
- [ ] 整体布局协调，无错位

---

## 🧪 测试数据参考

Mock数据中包含以下测试成果:

| ID | 标题 | 所属项目 | 状态 | 用途 |
|----|------|---------|------|------|
| r-001 | 深度学习在医学影像中的应用 | 智慧医疗专项 (MED-2024) | published | 已发布成果 |
| r-002 | 下一代电池材料性能优化 | 储能技术基础研究 (EN-BASE-2023) | reviewing | 审核中成果 |
| r-003 | 高速列车空气动力学专利 | 轨道交通专项 (RAIL-2022) | pending | 待审核成果 |
| r-004 | 未归属项目的预研成果示例 | 无 | draft | 无项目成果 |

**推荐测试成果: r-003 (待审核状态，有项目信息)**

---

## 🐛 常见问题排查

### 问题1: 所属项目列显示空白
**原因**: Mock数据未返回 `projectName` 和 `projectCode` 字段  
**解决**: 检查 `src/mocks/data.ts` 和 `src/mocks/handler.ts`

### 问题2: 审核对话框信息不完整
**原因**: 后端接口未返回扩展字段  
**解决**: 
1. 检查Mock数据是否包含 `authors`, `keywords`, `abstract`, `attachments`
2. 确认 `.env` 文件中 `VITE_USE_MOCK=true`

### 问题3: "查看完整详情"按钮点击无反应
**原因**: 成果ID为空或路由配置错误  
**解决**: 
1. 检查成果数据中是否有 `id` 字段
2. 查看浏览器控制台错误信息
3. 确认 `/results/:id` 路由已配置

### 问题4: 附件下载无效
**原因**: Mock环境下URL为占位符  
**解决**: 这是正常的，生产环境需要真实的文件URL

---

## 📊 验证通过标准

- ✅ 所有清单项目都勾选通过
- ✅ 无控制台错误或警告
- ✅ 页面加载流畅，无卡顿
- ✅ 信息展示完整准确
- ✅ 交互操作符合预期

---

## 📝 验证报告模板

```
验证人: ___________
验证时间: ___________
验证环境: 开发环境 / Mock数据

功能验证结果:
- 列表展示: ✅ / ❌
- 审核对话框: ✅ / ❌
- 附件功能: ✅ / ❌
- 交互操作: ✅ / ❌
- 样式美观: ✅ / ❌

发现问题:
1. 
2. 

总体评价: 通过 / 需改进
```

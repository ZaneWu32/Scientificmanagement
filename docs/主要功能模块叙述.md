# 科研成果管理子系统 - 主要功能模块叙述

---

## 文档说明

**注意：** 如果涉及到的功能、字段有缺少或不全，请补充。后续可能会有添加或修改。

以下是目前系统最基础的功能模块描述。

---

## 一、普通用户功能模块

### 1.1 用户登录

用户通过账号密码登录系统，完成身份认证后进入个人工作台。

### 1.2 个人统计图表

**优先级：** 最后

**功能描述：**
- 登录后，左侧为导航栏，右侧为个人成果物的统计页面
- **统计指标：**
  - 该用户成果物总数
  - 论文总数
  - 专利总数
  - 本月新增成果物数
- **图表类型：** 待商榷
  - 建议：可以用扇形图来展现各个类型的成果物数量占比

### 1.3 创建成果物与入库

**功能描述：**
- **手动创建：**
  - 用户可以选择成果物类型，动态显示不同的表单供用户填写。
  - **智能补全（Smart Completion）：** 支持输入DOI、arXiv ID、万方/知网标题等标识符，调用外部API自动填充元数据（如标题、作者、摘要、关键词等），减少录入工作量。
  - **附件上传：** 支持多种格式（PDF, DOCX, ZIP等），系统需对上传文件进行**病毒扫描**。
- **自动入库（系统后台）：**
  - 系统通过API自动接收"科研项目管理子系统"推送的已结项项目成果。
  - 接收到的成果自动进入"待审核"状态，并通知用户进行确认或补充信息。

### 1.4 个人成果物管理

#### 1.4.1 成果物列表页

**功能描述：**
1. 页面展示用户自己上传过的成果物列表
2. **列表表头字段：**
   - 序号
   - 成果物的名称
   - 成果物类型
   - 成果物当前审核状态（状态包括：草稿、待审核、审核中、已驳回、已入库/已发布、已撤销）
   - 所属项目名称
   - 成果物概要
   - 成果物创建时间
3. **操作按钮：**（每条数据右侧）
   - **修改成果物：** 
     - 草稿/已驳回状态：可编辑并重新提交。
     - 已入库状态：需申请"撤销"或"修改"，可能触发重新审核流程。
   - **查看成果物详情：** 查看该成果物的所有属性信息。
   - **修改成果物可见范围：** 
     - 设置可见级别：私有（仅自己可见）、机构内可见（仅摘要）、机构内可见（全文）、公开（摘要）。

#### 1.4.2 成果物详情页
（保持原样）

### 1.5 成果物查询列表

#### 1.5.1 列表页功能

**功能描述：**
1. **多维度检索：**
   - **基础检索：** 支持按标题、摘要、关键词、作者（单位）进行全文检索。
   - **高级检索：** 支持多字段组合（AND/OR/NOT）检索（如：成果类型=论文 AND 期刊等级=Q1 AND 年份=2024）。
   - **排序功能：** 支持按相关度、发布日期、被引次数排序。
2. **筛选与分类（Facet）：**
   - 页面上方或左侧提供聚合筛选：
     - 按年份
     - 按成果类型
     - 按学院/部门
     - **按期刊/会议等级：** 调用外部API（如万方/WoS）获取的等级（如Q1, CCF-A）进行筛选。
3. **列表表头字段：**
   - 序号
   - 成果物的名称
   - 成果物类型
   - **期刊/会议等级**（新增）
   - 所属项目名称
   - 成果物概要
   - 成果物创建时间
4. **操作按钮：**
   - **查看成果物详情：** 
     - 权限控制：未授权用户仅可见摘要/标题，授权用户可见全文/下载附件。
     - 预览功能：支持PDF或Word在线预览。
   - **请求访问全文：**（新增）
     - 当用户无权查看全文/下载附件时，提供“请求访问”按钮。
     - 点击后填写申请理由并提交，管理员审核通过后开放查看权限。

#### 1.5.2 成果物详情页

**展示内容：**
1. **成果物的公共属性：**
   - 成果物名称
   - 成果物类型
   - 成果物创作者
   - 所属项目名称
   - 成果物概要
   - 成果物创建时间
2. **成果物动态属性：**
   - 即根据成果物类型来展示的不同字段
3. **附件列表：**
   - 显示文件名、文件大小
   - **权限控制：**
     - **有权限用户：** 提供下载按钮、在线预览功能。
     - **无权限用户：** 仅显示文件列表，操作按钮替换为“请求访问全文”。

---

## 二、专家用户功能模块

### 2.1 基础功能

专家用户具备以下与普通用户相同的功能：
- 统计图表
- 成果物查询列表
- 个人成果物管理
- 创建成果物

### 2.2 成果物审核

**功能描述：**
- 专家会多一个成果物审核页面
- 页面显示该专家被分配到的需要审核的成果物列表
- **审核操作：**
  - **查看详情：** 查看成果物元数据及下载/预览附件。
  - **通过：** 成果物状态流转至"已入库"（或下一级审核）。
  - **驳回：** 必须填写**驳回理由**，成果物状态流转至"已驳回"，并通知提交人。
- **消息通知：** 审核状态变更时，系统需通过消息或邮件通知提交人。

**待确认问题：**
- （已确认）需要审核日志记录，记录审核人、时间、操作结果及意见。

---

## 三、管理员功能模块

### 3.1 科研看台（Dashboard）

**功能描述：**
- 管理员和机构领导登录后，左侧为导航栏，右侧为"科研看台"页面。
- **核心指标卡：**
  - 成果总数
  - 论文总数
  - 专利总数
  - 本月新增成果物数
- **可视化图表：**
  - **成果产出趋势图：** 按年/月展示（柱状图/折线图）。
  - **成果类型分布图：** 扇形图/饼图。
  - **学院/部门成果数量排行：** 条形图，展示各部门科研实力。
- **列表展示：**
  - 最新入库成果列表。
  - **标志性成果：** 展示被标记为"标志性"的重要成果。
- **数据导出：** 支持将统计结果或特定报表导出为Excel/CSV文件。

### 3.2 成果物创建录入

**功能描述：**
- 管理员拥有与普通用户类似的创建页面，但权限更高。
- **代填/归档功能：** 管理员创建成果物时，需指定成果物的**归属用户**（成果物作者/负责人）和**所属项目**。
- **批量导入：** （可选）支持通过Excel批量导入历史成果数据。

### 3.3 管理员成果物管理

#### 3.3.1 成果物管理列表页

**功能描述：**
1. 查看全系统所有成果物列表（分页查询）。
2. **列表表头字段：**
   - 序号、名称、类型、审核状态、**归属用户**、作者、项目名称、概要、创建时间、可见范围、**是否标志性成果**。
3. **筛选查询区域：**
   - 增加**学院/部门**筛选、**期刊等级**筛选。

#### 3.3.2 操作按钮和业务

**每条成果物右侧的操作按钮：**

1. **修改成果物**
   - 管理员拥有最高权限（"生杀大权"）。
   - 可修改所有属性（公共、特殊、可见范围、附件）。
   - **设为标志性成果：** 可将重要成果标记为"标志性成果"以在看台展示。

2. **查看成果物详情**
   - 展示完整信息及审核历史日志。

3. **删除/撤销成果物**
   - **逻辑删除：** 标记为删除状态。
   - **撤销发布：** 将"已入库"成果回退状态，使其不再公开显示。

4. **日志记录：**
   - 关键操作（修改、删除、下载、审核）必须记录日志（操作人、时间、IP、内容）。

### 3.4 成果物审核管理

#### 3.4.1 审核功能说明

**功能描述：**
1. 查询出所有状态为"待审核"的成果物列表。
2. **分配专家：** 管理员可将成果物分配给特定领域的专家进行审核。
3. **直接审核：** 管理员作为最高权限者，可直接对成果物进行"通过"或"驳回"操作（跳过专家审核或作为终审）。
4. **状态流转：** 
   - 分配专家 -> 状态变为"审核中"。
   - 直接通过 -> 状态变为"已入库"。

#### 3.4.2 待确认问题

- （已确认）管理员有权直接修改成果物状态。
- （已确认）管理员既可以分配专家，也可以直接审核。

#### 3.4.3 分配专家流程
（保持原样）

### 3.5 新增成果物类型与元数据配置

#### 3.5.1 功能描述

**功能说明：**
1. **成果类型管理：** 新增、启用、停用、重命名成果类型（如论文、专利、软著、数据集等）。
2. **字段模型配置：**
   - **标准字段：** 系统预置的通用字段（标题、作者、年份、项目等）。
   - **扩展字段：** 为每种类型配置特有字段（如期刊分区的"分区"字段，专利的"申请号"字段）。
3. **字段属性配置：**
   - 字段名称、类型（文本/数字/日期/文件等）、是否必填、默认值、校验规则。
4. **配置生效：** 配置完成后，前端创建/详情页面应动态渲染新的表单结构（无需重新发版）。

---

## 附录

### 待确认问题汇总（已更新）

1. **是否需要审核日志记录？**
   - **回答：** 是。关键操作（审核、删除、下载等）必须有详细日志。
2. **管理员创建成果物时，是选择成果物归属用户，还是只填写成果物作者？**
   - **回答：** 需要指定归属用户（系统账号）以便关联个人统计，同时填写作者列表（文本，可能包含非系统人员）。
3. **管理员是否能修改成果物？**
   - **回答：** 是，管理员拥有最高权限。
4. **管理员是否有权直接修改成果物审核状态？**
   - **回答：** 是。
5. **是否允许删除成果物？**
   - **回答：** 允许逻辑删除或撤销发布。

---

*最后更新时间：2025年12月7日*
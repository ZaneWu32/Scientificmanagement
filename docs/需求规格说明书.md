# 科研管理系统需求规格说明书（修订版）

本文档基于现有项目架构与业务现状，对核心功能模块的需求规格说明进行规范化与细化。文档旨在清晰界定系统功能边界、业务流程及验收标准，供项目干系人评审与确认。

## 1. 成果类型管理 (Achievement Type Management)

### 1.1 功能描述
系统须提供成果类型的全生命周期管理功能，支持管理员灵活定义科研成果的分类标准及其数据结构。这包括对成果类型进行新增、编辑、启用、停用及查询的基础管理操作，并允许为每种成果类型配置专属的业务字段，支持字段的增删改查及排序。同时，系统应强制保证成果类型编码在全局范围内的唯一性，作为跨系统检索与统计的唯一标识。

### 1.2 详细需求
在类型属性定义方面，系统需记录类型编码、名称、说明及启用状态。其中，类型编码须全局唯一，启用状态控制该类型是否可用于新建成果，已停用的类型不可再次选择，但历史数据仍需保持可见。

在动态字段配置方面，管理员可为不同类型配置包含编码、名称、类型、是否必填、帮助说明、默认值及展示顺序在内的属性。字段类型应覆盖文本、富文本、数字、日期、选择器、布尔值及多媒体文件等多种格式。值得注意的是，动态字段的配置变更应具备实时生效的能力。一旦保存配置，成果登记页面应立即反映最新的字段结构，无需进行系统重新部署。

### 1.3 验收标准
系统应确保能够成功创建新类型，且停用的类型在成果登记下拉列表中即时隐藏，同时不影响历史成果的查看。对于动态字段，需验证新增字段后，成果登记页面能自动渲染出对应的输入框，且必填校验逻辑与配置完全一致。此外，任何对类型属性或动态字段的变更操作均需被系统记录，包含操作人、时间及变更内容快照，以确保数据变更的可追溯性。

---

## 2. 成果登记管理 (Achievement Registration)

### 2.1 功能描述
系统应为科研人员提供便捷的成果数据录入通道，支持结构化数据的采集与非结构化附件的管理，涵盖从草稿保存到正式提交的完整流程。系统需支持用户通过手动录入或外部数据导入两种模式进行成果登记，并提供草稿箱功能以便用户分阶段填写，同时管理提交后的状态流转。

### 2.2 详细需求
在信息录入环节，用户需填写包含标题、所属项目、完成人及完成时间在内的基础信息。系统将依据用户选择的成果类型，自动加载并展示对应的动态字段表单供用户填写。同时，系统支持多附件上传，并允许用户设置附件的可见范围。

在交互与校验方面，前端界面应实时校验必填项与字段格式。系统提供草稿保存功能，允许用户在未完成填写时保存进度，此时仅进行基础主键校验，不触发严格的业务规则校验。成果正式提交后，记录状态将锁定为“待审核”，此时非管理员或授权人员将无法再次修改该记录。

### 2.3 验收标准
系统需进行完整性校验，确保当必填字段为空时，提交操作会被拦截并提示具体缺失信息。保存为草稿的成果记录应能正确显示在“我的成果”列表中，且支持用户再次编辑并恢复上次填写内容。提交成功后，用户端的记录状态应转变为只读或仅查看状态，并标记为“待审核”。此外，上传的附件必须正确关联至对应的成果记录，并在详情页支持预览或下载。

---

## 3. 成果评审管理 (Achievement Review)

### 3.1 功能描述
系统应为评审专家和管理员提供高效的审核工作台，支持对已提交成果的质量、格式及真实性进行核验。该模块需明确角色分工，管理员负责形式审查与专家分配，专家负责专业评审。评审流程应支持从待审状态到通过或驳回状态的完整流转。

### 3.2 详细需求
待审管理功能需提供待评审列表，并支持按提交时间、类型及申报人进行筛选。管理员具备将待审成果分配给指定专家的权限。

在评审操作中，评审人员可查看包含附件在内的成果详情，并执行通过或驳回操作。无论评审结果如何，评审人员均须填写明确的评审意见。对于评审结果的处理，被驳回的成果应允许申报人根据意见修改后再次提交；而通过的成果将正式入库，并可被系统检索与统计。

### 3.3 验收标准
系统须强制要求评审意见的填写，若输入框为空则禁止提交评审结果。评审完成后，成果列表中的状态应立即更新，申报人能及时收到或查看反馈结果。分配功能需确保专家登录后能在待办任务中看到管理员分配的评审任务。此外，每一条评审记录，包括审核人、时间、结果及意见，都需被系统持久化保存，并在成果详情页的历史记录中可供查询。

---

## 4. 成果统计分析 (Statistics & Analysis)

### 4.1 功能描述
系统应面向管理层提供可视化的数据分析看板，支持多维度的数据聚合与趋势展示，辅助科研决策。统计分析功能需支持按时间周期、成果类型、所属部门及关联项目等维度进行数据聚合，并通过趋势图、分布图、排行榜及明细列表等多种形式进行可视化展示。

### 4.2 详细需求
统计看板需提供全局筛选功能，支持用户组合多种条件进行过滤，且统计结果应支持动态刷新。此外，系统应支持将统计图表对应的数据源导出为 Excel 或 CSV 格式。导出文件必须包含完整的表头与明细数据，且数据口径需与界面展示保持严格一致。

### 4.3 验收标准
系统需保证统计数据的实时性与准确性，例如新增一条已通过的成果后，相关统计指标应在刷新后自动更新。各维度图表应加载正常，图例清晰，无数据重叠或显示异常。导出功能产生的 Excel 文件应能被正常打开，且数据行列对应正确，无乱码现象。

---

## 5. 数据需求 (Data Requirements)

### 5.1 数据实体 (Data Entities)

#### 5.1.1 项目信息实体
项目作为科研活动的核心载体，系统需维护其完整生命周期数据。
*   **基础属性**：包含项目唯一标识（ID/编号）、项目名称、项目类型（如国自然、重点研发、横向课题）、所属领域（如人工智能、生物医药）。
*   **关联属性**：关联项目负责人（Principal Investigator）、参与成员列表、所属部门。
*   **状态属性**：项目状态（在研、结题、暂停）、开始日期、结束日期、经费总额。

#### 5.1.2 成果信息实体
成果是科研产出的具体表现形式，支持动态扩展类型。
*   **通用属性**：包含成果唯一标识、标题、摘要、所属项目ID、第一完成人、所有作者列表、完成日期、成果状态（草稿、待审、已通过、驳回）。
*   **扩展属性**：依据“成果类型”动态定义的字段集（如论文的DOI/期刊名、专利的申请号/授权日、软著的登记号）。
*   **附件属性**：关联的文件列表（文件路径、类型、大小、上传人、可见范围）。

#### 5.1.3 人员信息实体
人员是系统的参与主体，基于角色进行权限控制。
*   **身份属性**：用户ID、用户名、真实姓名、工号/学号、电子邮箱、联系电话、所属部门/学院。
*   **权限属性**：系统角色（管理员、专家、科研人员）、账号状态（启用/禁用）、最后登录时间。

### 5.2 数据字典 (Data Dictionary)

为了保证系统数据的标准化与一致性，核心业务字段需采用统一的数据字典管理。
*   **成果类型 (Achievement Type)**：学术论文 (Paper)、发明专利 (Patent)、软件著作权 (Software)、专著 (Book)、研究报告 (Report)。
*   **审核状态 (Review Status)**：草稿 (Draft)、待审核 (Pending)、已通过 (Approved)、已驳回 (Rejected)。
*   **附件可见性 (Visibility)**：公开 (Public)、仅内部 (Internal)、保密 (Private)。
*   **项目类型 (Project Type)**：青年科学基金、面上项目、重点研发计划、企业横向课题。

### 5.3 数据流程 (Data Flow)

#### 5.3.1 成果登记流程
数据始于用户的录入动作。用户在前端表单提交数据后，系统首先进行**格式校验**（必填项、类型检查）；校验通过后，数据暂存至数据库的“成果表”中，状态标记为`Draft`或`Pending`；若涉及附件，文件实体将被流式上传至文件服务器，并返回文件URL关联至成果记录。

#### 5.3.2 审核流转流程
当成果状态变更为`Pending`时，触发审核流程。审核数据流流向“待办任务”池；管理员或专家提取数据进行核验，产生的“评审意见”与“操作结果”将被写入“审核记录表”；最终，系统根据操作结果更新“成果表”的状态字段（`Approved` / `Rejected`），并触发消息通知数据流向申请人。

#### 5.3.3 统计分析流程
统计服务定期或按需从“成果表”与“项目表”中抽取数据（ETL过程）；经过**清洗**（去除无效数据）与**聚合**（按时间、部门Group By）计算后，生成中间态的统计指标数据（如年度成果数、部门排名）；最终，这些结构化数据被前端可视化组件请求并渲染为图表。

---

## 6. 成果智能服务 (Intelligent Services)

### 5.1 功能描述
系统整合内部成果库与外部数据资源，提供基于自然语言处理（NLP）与大模型的智能辅助服务，涵盖成果与企业需求的精准匹配、科研热点可视化分析以及成果录入时的元数据自动补全。

### 5.2 详细需求
成果匹配服务基于企业需求与科研成果的语义相似度计算，面向科技成果转化场景。系统需自动分析抓取的外部企业需求（包括标题、摘要、行业标签）与库内科研成果（包括标题、简介、关键词）的匹配情况，计算并展示匹配得分、匹配理由及关联成果，支持人工重新匹配以获取最新结果。

科研词云服务面向科研管理决策，提供基于关键词频率与共现关系的动态图谱。图谱中的节点大小代表热度，连线代表共现关联，支持鼠标拖拽与缩放交互。用户可按时间范围（如近1年、近3年、全部）对词云数据进行筛选与实时刷新。

智能补全服务面向成果登记场景，利用外部权威 API（如 DOI、ISBN）辅助信息录入。用户输入标识符或标题关键词后，系统自动获取元数据并提供预览与确认机制，确保回填数据的准确性，并在服务异常时提供容错提示，不阻塞主流程。

### 5.3 验收标准
系统应确保针对特定企业需求推荐的成果具有业务相关性，且匹配理由逻辑通顺。词云图谱需准确反映关键词热度与关联，加载流畅，交互响应迅速。智能补全功能需验证在输入合法标识符后能准确回填标题、作者等基础元数据，且来源标记清晰，用户对数据拥有最终修改权。

---

## 6. 接口需求 (Interface Requirements)

### 6.1 用户界面 (User Interface)

#### 6.1.1 界面风格
*   **设计语言**：系统采用现代简约的扁平化设计风格（Flat Design），结合卡片式布局（Card-based Layout），确保信息展示的层次感与整洁度，降低用户认知负荷。
*   **色彩体系**：主色调采用深蓝/靛蓝（Indigo）系列，体现科研管理的严谨与专业；系统内置深色模式（Dark Mode）响应机制，可根据用户操作系统设置自动切换，满足不同光照环境下的阅读舒适度。
*   **视觉质感**：在顶部导航栏、悬浮面板等层级较高的容器上应用“毛玻璃”效果（Glassmorphism），提升界面的通透感与现代美感。

#### 6.1.2 操作流程
*   **导航结构**：采用“顶部全局导航 + 侧边/内容区”的经典布局。顶部承载全局搜索、消息通知及个人中心；核心业务功能通过清晰的菜单体系组织，确保用户在 2 次点击内即可触达任意功能模块。
*   **任务动线**：遵循“概览 -> 列表 -> 详情 -> 操作”的标准路径设计的任务流。针对高频操作（如“新建成果”），在全局导航栏提供显眼的快捷入口，缩短操作路径。
*   **表单逻辑**：对于复杂的成果登记表单，采用分步向导（Wizard）或分组折叠的形式展示，避免单页信息过载。

#### 6.1.3 交互设计
*   **状态反馈**：系统应在用户进行任何关键操作（如保存、提交、删除）后提供即时的 Toast 消息反馈（成功/失败/警告）。对于加载中的数据或耗时操作，必须展示局部或全局的 Loading 动画，缓解用户等待焦虑。
*   **容错引导**：在列表无数据（Empty State）或搜索无结果时，不应仅显示空白，而应提供友好的插画提示及建议操作（如“去新建”、“重新加载”按钮）。
*   **智能辅助**：输入框应广泛支持自动补全、历史记录联想及错误即时校验，尤其在关联项目、选择人员等场景下，优先提供模糊检索能力，减少手动录入错误。
